---
sidebar_position: 7
sidebar_label: Setup
title: .NET | SDKs | Integration
description: The SurrealDB SDK for .NET enables simple and advanced querying of a remote or embedded database.
---

import ThemedImage from '@theme/ThemedImage';
import useBaseUrl from '@docusaurus/useBaseUrl';

<ThemedImage
  alt="DotNet"
  width="50"
  className="sdk-logo"
  sources={{
    light: useBaseUrl('img/light/dotnet.png'),
    dark: useBaseUrl('img/dotnet-icon.png'),
  }}
/>

# .NET SDK

### Install the SDK

- Create a new project using your favorite IDE (Visual Studio, JetBrains Rider, etc...) 
- or use the dotnet new command.

Once ready, add the SurrealDB SDK to your dependencies:

```
dotnet add package SurrealDb.Net
```

<br />

### Connect to SurrealDB

Let's start by creating a new console app.

```sh
dotnet new console -o SurrealDbExample
cd SurrealDbExample
dotnet add package SurrealDb.Net
```

Open <code>Program.cs</code> and replace everything in there with the following code to try out some basic operations using the SurrealDB SDK.

```csharp
using SurrealDb.Net;
using SurrealDb.Net.Models;
using SurrealDb.Net.Models.Auth;
using System.Text.Json;

const string TABLE = "person";

var db = new SurrealDbClient("ws://127.0.0.1:8000/rpc");

await db.SignIn(new RootAuth { Username = "root", Password = "root" });
await db.Use("test", "test");

var person = new Person
{
	Title = "Founder & CEO",
	Name = new() { FirstName = "Tobie", LastName = "Morgan Hitchcock" },
	Marketing = true
};
var created = await db.Create(TABLE, person);
Console.WriteLine(ToJsonString(created));

var updated = await db.Merge<ResponsibilityMerge, Person>(
	new() { Id = (TABLE, "jaime"), Marketing = true }
);
Console.WriteLine(ToJsonString(updated));

var people = await db.Select<Person>(TABLE);
Console.WriteLine(ToJsonString(people));

var queryResponse = await db.Query(
    $"SELECT Marketing, count() AS Count FROM type::table({TABLE}) GROUP BY Marketing"
);
var groups = queryResponse.GetValue<List<Group>>(0);
Console.WriteLine(ToJsonString(groups));

static string ToJsonString(object? o)
{
    return JsonSerializer.Serialize(o, new JsonSerializerOptions { WriteIndented = true, });
}

public class Person : Record
{
	public string? Title { get; set; }
	public Name? Name { get; set; }
	public bool Marketing { get; set; }
}
public class Name
{
	public string? FirstName { get; set; }
	public string? LastName { get; set; }
}
public class ResponsibilityMerge : Record
{
	public bool Marketing { get; set; }
}
public class Group
{
	public bool Marketing { get; set; }
	public int Count { get; set; }
}
```

Then make sure your SurrealDB server is running on <code>127.0.0.1:8000</code> and run your app from the command line with:

```sh
dotnet run
```

<br />

### SDK methods

The .NET SDK comes with a number of built-in functions.

<table>
<thead>
  <tr>
    <th scope="col">Function</th>
    <th scope="col">Description</th>
  </tr>
</thead>
<tbody>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#surrealdbclient"> <code> new  SurrealDbClient(endpoint)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Creates a new client, detecting the right protocol from the endpoint</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#configure"> <code> db.Configure(ns, db, credentials) </code></a></td>
    <td scope="col" scope="row" data-label="Description">Configures the client to use a specific namespace and database, with credentials</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#connect"> <code> await db.Connect(url, options) </code></a></td>
    <td scope="col" scope="row" data-label="Description">Connects the client to the underlying endpoint, also improving performance to avoid cold starts</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#use"> <code>await db.Use(ns, db)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Switch to a specific namespace and database</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#signup"> <code>await db.Signup(credentials)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Signs up a user to a specific authentication scope</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#signin"> <code>await db.Signin(credentials)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Signs this connection in to a specific authentication scope</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#authenticate"> <code>await db.Authenticate(token)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Authenticates the current connection with a JWT token</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#invalidate"> <code>await db.Invalidate()</code></a></td>
    <td scope="col" scope="row" data-label="Description">Invalidates the authentication for the current connection</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#info"> <code>await db.Info&lt;T&gt;()</code></a></td>
    <td scope="col" scope="row" data-label="Description">Returns the record of an authenticated scope user</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#set"> <code>await db.Set(key, value)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Assigns a value as a parameter for this connection</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#unset"> <code>await db.Unset(key)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Removes a parameter for this connection</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#query"> <code>await db.Query(sql)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Runs a set of SurrealQL statements against the database</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#raw-query"> <code>await db.RawQuery(sql, params)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Runs a set of SurrealQL statements against the database, based on a raw SurrealQL query</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#select"> <code>await db.Select&lt;T&gt;(resource)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Selects all records in a table, or a specific record</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#create"> <code>await db.Create&lt;T&gt;(resource, data)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Creates a record in the database</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#upsert"> <code>await db.Upsert&lt;T&gt;(data)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Creates or updates a specific record</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#update-all"> <code>await db.UpdateAll&lt;T&gt;(table, data)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Updates all records in a table</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#merge"> <code>await db.Merge&lt;T&gt;(resource, data)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Modifies all records in a table, or a specific record</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#merge-all"> <code>await db.MergeAll&lt;T&gt;(table, data)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Modifies all records in a table</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#patch"> <code>await db.Patch&lt;T&gt;(resource, data)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Applies <a href="https://jsonpatch.com/">JSON Patch</a> changes to a specific record</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#patch-all"> <code>await db.PatchAll&lt;T&gt;(table, data)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Applies <a href="https://jsonpatch.com/">JSON Patch</a> changes to all records in a table</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#delete"> <code>await db.Delete(resource, data)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Deletes all records, or a specific record</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#listen-live"> <code>db.ListenLive&lt;T&gt;(queryUuid)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Listen for live query responses</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#live-query"> <code>await db.LiveQuery&lt;T&gt;(sql)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Initiate a live query from a SurrealQL statement</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#live-raw-query"> <code>await db.LiveRawQuery&lt;T&gt;(sql, params)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Initiate a live query from a SurrealQL statement, based on a raw SurrealQL query</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#live-table"> <code>await db.LiveTable&lt;T&gt;(table, diff)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Initiate a live query from a table</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#kill"> <code>await db.Kill(queryUuid)</code></a></td>
    <td scope="col" scope="row" data-label="Description">Kill a running live query</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#version"> <code>await db.Version()</code></a></td>
    <td scope="col" scope="row" data-label="Description">Retrieves the version of the SurrealDB instance</td>
</tr>
<tr>
    <td scope="col" scope="row" data-label="Function"><a href="#health"> <code>await db.Health()</code></a></td>
    <td scope="col" scope="row" data-label="Description">Checks the status of the database server and storage engine</td>
</tr>
</tbody>
</table>

<br />

## `SurrealDbClient` {#surrealdbclient}

Creates a new client, detecting the right protocol from the endpoint.

```csharp title="Method Syntax"
new SurrealDbClient(endpoint)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>endpoint</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The database endpoint to connect to.
            </td>
        </tr>
                <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>httpClientFactory</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                An IHttpClientFactory instance.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Creates a new client using a local endpoint
var db = new SurrealDbClient("http://127.0.0.1:8000");

// Creates a new client using a remote endpoint
var db = new SurrealDbClient("wss://cloud.surrealdb.com");
```

<br />

## `.Configure()` {#configure}

Configures the client to use a specific namespace and database, with credentials.

```csharp title="Method Syntax"
db.Configure(ns, db, credentials)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>ns</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The table namespace to use.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>db</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The table database to use.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>username</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The username with root access.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>password</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The password with root access.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>token</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The value of the JWT token.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Configure a connection to use ns/db
client.Configure("ns", "db");

// Configure a connection to use ns/db, as well as root access (with username and password)
client.Configure("ns", "db", "root", "root");

// Configure a connection to use ns/db, as well as user auth via JWT token
string token = "eyJhbGciOiJIUzI1...";
client.Configure("ns", "db", token);
```

<br />

## `.Connect()` {#connect}

Connects the client to the underlying endpoint, also improving performance to avoid cold starts.

```csharp title="Method Syntax"
await db.Connect()
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
await db.Connect();
```

<br />

## `.Use()` {#use}

Switch to a specific namespace and database.

```csharp title="Method Syntax"
await db.Use(ns, db)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>ns</code>
                <l className='yellow'>INITIALLY REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Switches to a specific namespace.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>db</code>
                <l className='yellow'>INITIALLY REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Switches to a specific database.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='yellow'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
await db.Use("test", "test");
```

<br />

## `.SignUp()` {#signup}

Signs up to a specific authentication scope.

```csharp title="Method Syntax"
await db.SignUp(credentials)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>credentials</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Credentials to sign up as a scoped user.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

```csharp
var authParams = new AuthParams
{
    Namespace = "test",
    Database = "test",
    Scope = "user",
    Email = "info@surrealdb.com",
    Password = "123456"
};

Jwt jwt = await db.SignUp(authParams);

public class AuthParams : ScopeAuth
{
	public string? Username { get; set; }
	public string? Email { get; set; }
	public string? Password { get; set; }
}
```

<br />

## `.SignIn()` {#signin}

Signs in to a specific authentication scope.

```csharp title="Method Syntax"
await db.SignIn(credentials)
```


### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>credentials</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Variables used in a signin query.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Option 1: Sign in as root user
await db.SignIn(new RootAuth { Username = "root", Password = "root" });

// Option 2: Sign in using namespace auth
await db.SignIn(
    new NamespaceAuth
    {
        Namespace = "test", 
        Username = "johndoe", 
        Password = "password123" 
    }
);

// Option 3: Sign in using database auth
await db.SignIn(
    new DatabaseAuth
    {
        Namespace = "test", 
        Database = "test", 
        Username = "johndoe", 
        Password = "password123" 
    }
);

// Option 4: Sign in as a scoped user
var authParams = new AuthParams
{
    Namespace = "test",
    Database = "test",
    Scope = "user",
    Email = "info@surrealdb.com",
    Password = "123456"
};

Jwt jwt = await db.SignIn(authParams);

public class AuthParams : ScopeAuth
{
	public string? Username { get; set; }
	public string? Email { get; set; }
	public string? Password { get; set; }
}
```



## `.Authenticate()` {#authenticate}

Authenticates the current connection with a JWT token.

```csharp title="Method Syntax"
await db.Authenticate(jwt)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>jwt</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The JWT object holder of the authentication token.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Sign in or sign up as a scoped user
Jwt jwt = await db.SignUp(authParams);

await db.Authenticate(jwt);
```

<br />

## `.Invalidate()` {#invalidate}

Invalidates the authentication for the current connection.

```csharp title="Method Syntax"
await db.Invalidate()
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Properties</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Properties">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
await db.Invalidate();
```

<br />

## `.Info<T>()` {#info}

This method returns the record of an authenticated scope user.

```csharp title="Method Syntax"
await db.Info<T>()
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Properties</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Properties">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
var currentUser = await db.Info<User>();
```

<br />

## `.Set()` {#set}

Assigns a value as a parameter for this connection.

```csharp title="Method Syntax"
await db.Set(key, val)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>key</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Specifies the name of the variable.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>value</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Assigns the value to the variable name.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Assign the variable on the connection
await db.Set("name", new Name { FirstName = "Tobie", LastName = "Morgan Hitchcock" });

// Use the variable in a subsequent query
await db.Query($"CREATE person SET name = $name");

// Use the variable in a subsequent query
await db.Query($"SELECT * FROM person WHERE name.first_name = $name.first_name");
```

<br />

## `.Unset()` {#unset}

Removes a parameter for this connection.

```csharp title="Method Syntax"
await db.Unset(key)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>key</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Specifies the SurrealQL statements.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
await db.Unset("name");
```

<br />

## `.Query()` {#query}

Runs a set of SurrealQL statements against the database.

```csharp title="Method Syntax"
await db.Query(sql)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>sql</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Specifies the SurrealQL statements.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Execute query with params
const string table = "person";
var result = await db.Query($"CREATE person; SELECT * FROM type::table({table});");

// Get the first result from the first query
var created = result.GetValue<Person>(0);

// Get all of the results from the second query
var people = result.GetValue<List<Person>>(1);
```

<br />

## `.RawQuery()` {#raw-query}

Runs a set of SurrealQL statements against the database, based on a raw SurrealQL query.

```csharp title="Method Syntax"
await db.RawQuery(sql, params)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>sql</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Specifies the SurrealQL statements.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>params</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Assigns variables which can be used in the query.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Assign the variable on the connection
var @params = new Dictionary<string, object> { { "table", "person" } };
var result = await db.RawQuery("CREATE person; SELECT * FROM type::table($table);", @params);

// Get the first result from the first query
var created = result.GetValue<Person>(0);

// Get all of the results from the second query
var people = result.GetValue<List<Person>>(1);
```

<br />

## `.Select<T>()` {#select}

Selects all records in a table, or a specific record, from the database.

```csharp title="Method Syntax"
await db.Select<T>(resource)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>resource</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The table name or a record ID to select.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Select all records from a table
var people = await db.Select<Person>("person");

// Select a specific record from a table
var person = await db.Select<Person>(("person", "h5wxrf2ewk8xjxosxtyc"););

// Select a specific record from a table, given a non-string id
var person = await db.Select<Person>(("person", new Guid("8424486b-85b3-4448-ac8d-5d51083391c7")));
```

<br />

## `.Create<T>()` {#create}

Creates a record in the database.

```csharp title="Method Syntax"
await db.Create<T>(resource, data)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>resource</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The table name or the specific record ID to create.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The document / record data to insert.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Create a record with a random ID
var person = await db.Create<Person>("person");

// Create a record with a random ID & specific fields
var person = await db.Create("person", new Person { Name = "Tobie" });

// Create a record with a specific ID
var personToCreate = new Person
{
    Id = ("person", "tobie"),
    Name = "Tobie",
    Settings = new Settings
    {
        Active = true,
        Marketing = true,
    },
};
var result = await db.Create(personToCreate);
```


<br />

## `.Upsert<T>()` {#upsert}

Creates or updates a specific record.

```csharp title="Method Syntax"
await db.Upsert<T>(data)
```

:::note
___NOTE:___ This function creates a new document / record or replaces the current one with the specified data.
:::

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The document / record data to insert.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
var person = new Person
{
    Id = ("person", "tobie"), // Id is mandatory to apply create or update
    Name = "Tobie",
    Settings = new Settings
    {
        Active = true,
        Marketing = true,
    },
};

// Create a new record when it doesn't exist
var created = await db.Upsert(person);

// Update an existing record when it does exist
var updated = await db.Upsert(person);
```

<br />

## `.UpdateAll<T>()` {#update-all}

Updates all records in a table.

```csharp title="Method Syntax"
await db.UpdateAll<T>(table, data)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>table</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The table name.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The document / record data to update.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
var data = new Person
{
    Name = "Tobie",
    Settings = new Settings
    {
        Active = true,
        Marketing = true,
    },
};

await db.UpdateAll("person", data);
```

<br />

## `.Merge<T>()` {#merge}

Modifies all records in a table, or a specific record.

```csharp title="Method Syntax"
await db.Merge<T>(resource, data)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>resource</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The specific record ID to modify.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The data with which to modify the records.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Only changes the fields specified in the merge object
var merge = new PersonMerge
{
    Id = ("person", "tobie"),
    Settings = new Settings
    {
        Active = true,
        Marketing = false,
    },
};
var result = await db.Merge<PersonMerge, Person>(merge);

// Only changes the fields specified in the Dictionary
var data = new Dictionary<string, object>
{
    { "tags", new List<string> { "developer", "engineer" } }
};

var result = await db.Merge<Person>(("person", "tobie"), data);
```

<br />

## `.MergeAll<T>()` {#merge-all}

Modifies all records in a table.

```csharp title="Method Syntax"
await db.MergeAll<T>(table, data)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>table</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The table name.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The data with which to modify the records.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Only changes the fields specified in the merge object
var merge = new PersonMerge
{
    Settings = new Settings
    {
        Active = true,
        Marketing = false,
    },
};
var result = await db.MergeAll<PersonMerge, Person>("person", merge);

// Only changes the fields specified in the Dictionary
var data = new Dictionary<string, object>
{
    { "tags", new List<string> { "developer", "engineer" } }
};

var result = await db.MergeAll<Person>("person", data);
```

<br />

## `.Patch<T>()` {#patch}

Applies <a href="https://jsonpatch.com/">JSON Patch</a> changes to a specific record in the database.

```csharp title="Method Syntax"
await db.Patch<T>(resource, data)
```

:::note
___NOTE:___ This function patches document / record data with the specified <a href="https://jsonpatch.com/">JSON Patch</a> data.
:::

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>resource</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The specific record ID to modify.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The JSON Patch data with which to patch the records.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
var result = await db.Patch(("person", "tobie"), patches);
```

<br />

## `.PatchAll<T>()` {#patch-all}

Applies <a href="https://jsonpatch.com/">JSON Patch</a> changes to all records in the database.

```csharp title="Method Syntax"
await db.PatchAll<T>(table, data)
```

:::note
___NOTE:___ This function patches document / record data with the specified <a href="https://jsonpatch.com/">JSON Patch</a> data.
:::

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>table</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The table name.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The JSON Patch data with which to patch the records.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
var result = await db.PatchAll("person", patches);
```

<br />

## `.Delete()` {#delete}

Deletes all records in a table, or a specific record, from the database.

```csharp title="Method Syntax"
await db.Delete(resource)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>resource</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The table name or a record ID to select.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
// Delete all records from a table
await db.Delete("person");

// Delete a specific record from a table
await db.Delete(("person", "h5wxrf2ewk8xjxosxtyc"));
```

<br />

## `.ListenLive<T>()` {#listen-live}

Listen responses from an existing live query.

```csharp title="Method Syntax"
db.ListenLive<T>(queryUuid)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>queryUuid</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The UUID of the live query to consume.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
await using var liveQuery = db.ListenLive<Person>(queryUuid);

// Option 1
// Consume the live query via an IAsyncEnumerable, 
// blocking the current thread until the query is killed.
await foreach (var response in liveQuery)
{
    // Either a Create, Update, Delete or Close response...
}

// ------------------------------

// Option 2
// Consume the live query via an Observable.
liveQuery
    .ToObservable()
    .Subscribe(() => 
    {
        // Either a Create, Update, Delete or Close response...
    });
```

<br />

## `.LiveQuery<T>()` {#live-query}

Initiate a live query from a SurrealQL statement.

```csharp title="Method Syntax"
await db.LiveQuery<T>(sql)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>sql</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Specifies the SurrealQL statements.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
const string table = "person"; 
await using var liveQuery = await db.LiveQuery<Person>($"LIVE SELECT * FROM type::table({table});");

// Consume the live query...
```

<br />

## `.LiveRawQuery<T>()` {#live-raw-query}

Initiate a live query from a SurrealQL statement, based on a raw SurrealQL query.

```csharp title="Method Syntax"
await db.LiveRawQuery<T>(sql, params)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>sql</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Specifies the SurrealQL statements.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>params</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                Assigns variables which can be used in the query.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
await using var liveQuery = await db.LiveRawQuery<Person>("LIVE SELECT * FROM person;");

// Consume the live query...
```

<br />

## `.LiveTable<T>()` {#live-table}

Initiate a live query from a table.

```csharp title="Method Syntax"
await db.LiveTable<T>(table, diff)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>table</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The table name to listen for changes for.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>diff</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                If set to true, live notifications will include an array of JSON Patch objects, rather than the entire record for each notification.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
await using var liveQuery = await db.LiveTable<Person>("person");

// Consume the live query...
```

<br />

## `.Kill()` {#kill}

Kills a running live query by it's UUID.

```csharp title="Method Syntax"
await db.Kill(queryUuid)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>queryUuid</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The UUID of the live query you wish to kill.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
await db.Kill(queryUuid);
```

<br />

## `.Version()` {#version}

Retrieves the version of the SurrealDB instance.

```csharp title="Method Syntax"
await db.Version()
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
string version = await db.Version(); // Will return "surrealdb-1.1.1"
```

<br />

## `.Health()` {#health}

Checks the status of the database server and storage engine.

```csharp title="Method Syntax"
await db.Health()
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="col" scope="row" data-label="Arguments">
                <code>cancellationToken</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="col" scope="row" data-label="Description">
                The cancellationToken enables graceful cancellation of asynchronous operations.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```csharp
bool status = await db.Health();
```

<br /><br />

## Dependency Injection

The .NET SDK also support Dependency Injection to ease the use of the <code>SurrealDbClient</code> in your application.

Let's start by creating a new ASP.NET Core web app.

```sh
dotnet new webapp -o SurrealDbWeatherApi
cd SurrealDbWeatherApi
dotnet add package SurrealDb.Net
```

Open <code>appsettings.Development.json</code> and replace everything in there with the following code.
We have added a new Connection String called <code>SurrealDB</code> with the default configuration.

```bash
{
  "AllowedHosts": "*",
  "Logging": {
    "LogLevel": {
    "Default": "Information",
    "Microsoft.AspNetCore": "Warning"
    }
  },
  "ConnectionStrings": {
    "SurrealDB": "Server=http://127.0.0.1:8000;Namespace=test;Database=test;Username=root;Password=root"
  }
}
```

Open <code>Program.cs</code> and replace everything in there with the following code.
This code is using the <code>AddSurreal()</code> extension method to inject services automatically. 
Notice that all we have to do is one line of code to configure the SurrealDB client with the previously set Connection String.

:::note
___NOTE:___ By default, this function will register both <code>ISurrealDbClient</code> and <code>SurrealDbClient</code> using the <code>Singleton</code> service lifetime.
:::

```csharp
var builder = WebApplication.CreateBuilder(args);

var services = builder.Services;
var configuration = builder.Configuration;

services.AddControllers();
services.AddEndpointsApiExplorer();
services.AddSwaggerGen();
services.AddSurreal(configuration.GetConnectionString("SurrealDB"));

var app = builder.Build();

if (app.Environment.IsDevelopment())
{
	app.UseSwagger();
	app.UseSwaggerUI();
}

app.UseHttpsRedirection();
app.UseAuthorization();

app.MapControllers();

app.Run();
```

Open <code>WeatherForecastController.cs</code> and replace everything in there with the following code.
Finally, we can inject the <code>ISurrealDbClient</code> inside our Controller.

```csharp
using Microsoft.AspNetCore.Mvc;

namespace SurrealDbWeatherApi.Controllers;

[ApiController]
[Route("[controller]")]
public class WeatherForecastController : ControllerBase
{
	private const string Table = "weatherForecast";

	private readonly ISurrealDbClient _surrealDbClient;

	public WeatherForecastController(ISurrealDbClient surrealDbClient)
	{
		_surrealDbClient = surrealDbClient;
	}

	[HttpGet]
	[Route("/")]
	public Task<List<WeatherForecast>> GetAll(CancellationToken cancellationToken)
	{
		return _surrealDbClient.Select<WeatherForecast>(Table, cancellationToken);
	}

	[HttpPost]
	[Route("/")]
	public Task<WeatherForecast> Create(CreateWeatherForecast data, CancellationToken cancellationToken)
	{
		var weatherForecast = new WeatherForecast
		{
			Date = data.Date,
			Country = data.Country,
			TemperatureC = data.TemperatureC,
			Summary = data.Summary
		};

		return _surrealDbClient.Create(Table, weatherForecast, cancellationToken);
	}

    // ...
	// Other methods omitted for brevity
}

public class CreateWeatherForecast
{
	public DateTime Date { get; set; }
	public string? Country { get; set; }
	public int TemperatureC { get; set; }
	public string? Summary { get; set; }
}
```

Then make sure your SurrealDB server is running on <code>127.0.0.1:8000</code> and run your app from the command line with:

```sh
dotnet run
```

## Connection Strings

Connection Strings are an easy way to configure your application to connect to a SurrealDB instance. 
They are stored in the <code>appsettings.json</code> file and can be used to configure the <code>SurrealDbClient</code>.

In general, it is known as a best practice to:
- set a development Connection String in <code>appsettings.Development.json</code>,
- store your production Connection String in a Secret environment variable, or even better in a Vault.

<table>
    <thead>
        <tr>
            <th scope="col">Keys</th>
            <th colspan="2" scope="col">Description</th>
            <th scope="col">Aliases</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td scope="row" data-label="Keys">
                <code>Endpoint</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The database endpoint to connect to.
            </td>
            <td scope="row" data-label="Aliases">
                <code>Server</code>
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Keys">
                <code>Namespace</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Switches to a specific namespace.
            </td>
            <td scope="row" data-label="Aliases">
                <code>NS</code>
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Keys">
                <code>Database</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Switches to a specific database.
            </td>
            <td scope="row" data-label="Aliases">
                <code>DB</code>
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Keys">
                <code>Username</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Username used to have root access.
            </td>
            <td scope="row" data-label="Aliases">
                <code>User</code>
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Keys">
                <code>Password</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Password used to have root access.
            </td>
            <td scope="row" data-label="Aliases">
                <code>Pass</code>
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Keys">
                <code>Token</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Token (JWT) used to have user access.
            </td>
            <td scope="row" data-label="Aliases">
                
            </td>
        </tr>
        <tr>
            <td scope="row" data-label="Keys">
                <code>NamingPolicy</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Naming policy used to interact with the database. <br />
                Valid options are <code>CamelCase</code>, <code>SnakeCaseLower</code>, <code>SnakeCaseUpper</code>, <code>KebabCaseLower</code> and <code>KebabCaseUpper</code>.
            </td>
            <td scope="row" data-label="Aliases">
                
            </td>
        </tr>
    </tbody>
</table>


Here is a couple of examples of Connection Strings:

```sh
Server=http://127.0.0.1:8000;Namespace=test;Database=test;Username=root;Password=root
```

```sh
Endpoint=http://127.0.0.1:8000;NS=test;DB=test;User=root;Pass=root
```

```sh
Endpoint=http://127.0.0.1:8000;NS=test;DB=test;User=root;Pass=root;NamingPolicy=SnakeCaseLower
```