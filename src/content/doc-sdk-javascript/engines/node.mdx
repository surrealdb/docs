---
sidebar_position: 1
sidebar_label: Node.js
title: JavaScript | SDK | Engines | Node
description: The SurrealDB SDK for JavaScript using the Node.js engine.
---

# Node.js

This library is a plugin for the SurrealDB JavaScript SDK, which can be used to run SurrealDB as an embedded database within a Node.js server-side environment.

It enables SurrealDB to be run in-memory, or to persist data by running on top of SurrealKV. It allows for a consistent JavaScript and TypeScript API when using the surrealdb.js library by adding support for embedded storage engines (`memory`, `surrealkv`) alongside the remote connection protocols (`http`, `https`, `ws`, `wss`).

The Node engine is available on NPM as [`@surrealdb/node`](https://npmjs.com/package/@surrealdb/node) and requires the [JavaScript SDK](https://npmjs.com/package/surrealdb) to operate.

> [!IMPORTANT]
> This library works with ES modules (import), not CommonJS (require) and is available on NPM as [`@surrealdb/node`](https://npmjs.com/package/@surrealdb/node). It requires the [JavaScript SDK](https://npmjs.com/package/surrealdb) to operate.

## Installation

Before installing the Node.js engine, you need to install the JavaScript SDK using the instructions in the [installation](/docs/sdk/javascript/installation) documentation. 

After installing the SDK, install the Node.js engine using the following command:

```bash title="Install"
npm install @surrealdb/node
```

## Configuration

To use the Node.js engine, you need to import the `surrealdbNodeEngines` function from the `@surrealdb/node` package, and pass it as an option to the `Surreal` constructor.

```js
import { Surreal } from 'surrealdb';
import { surrealdbNodeEngines } from '@surrealdb/node';
```

After importing the `surrealdbNodeEngines` function, you can pass it as an option to the `Surreal` constructor. 

```js
const db = new Surreal({
    engines: surrealdbNodeEngines(),
});
```

## Connecting 

Using the [`.connect()`](https://surrealdb.com/docs/sdk/javascript/methods/connect) method, you can connect to a SurrealDB instance. The connection string specifies whether to connect to the Wasm engine, in memory or persisted with the `mem://` or `surrealkv://` prefixes respectively.

## Example

```js
import { Surreal } from 'surrealdb';
import { surrealdbNodeEngines } from '@surrealdb/node';

// Enable the WebAssembly engines
const db = new Surreal({
    engines: surrealdbNodeEngines(),
});

// Now we can start SurrealDB as an in-memory database
await db.connect("mem://");
// Or we can start a persisted SurrealKV database
await db.connect("surrealkv://demo");

// Now use the JavaScript SDK as normal.

// Close the database connection
await db.close();
```

> [!NOTE]
> You must close the connection to the database with the `.close()` method to prevent console warnings.

## Sources

- [`@surrealdb/node` on NPM](https://npmjs.com/package/@surrealdb/node)
- [GitHub repository](https://github.com/surrealdb/surrealdb.node)
