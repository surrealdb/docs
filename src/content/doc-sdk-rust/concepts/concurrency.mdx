---
sidebar_position: 3
sidebar_label: Concurrency
title: Rust | SDKs | Integration
description: SurrealDB supports a number of methods for authenticating users and securing the database.
---

# Concurrency

## Getting started

Start a running database using the following command:

```
surreal start --user root --pass root 
```

To follow along interactively, connect [using Surrealist](/docs/surrealist/getting-started#creating-a-connection) or the following command to open up the CLI:

```
surrealdb % surreal sql --user root --pass root --ns namespace --db database --pretty
```

Then use the `cargo add` command to add the `surrealdb` and `tokio` crates. The dependencies inside `Cargo.toml` should look something like this:

```toml
[dependencies]
surrealdb = "2.0.4"
tokio = "1.41.0"
```

```rust
use std::sync::LazyLock;
use surrealdb::engine::remote::ws::Client;
use surrealdb::engine::remote::ws::Ws;
use surrealdb::Surreal;
use tokio::sync::mpsc;

static DB: LazyLock<Surreal<Client>> = LazyLock::new(Surreal::init);

const NUM: usize = 100_000;

#[tokio::main]
async fn main() -> surrealdb::Result<()> {
	DB.connect::<Ws>("localhost:8000").with_capacity(NUM).await?;

	DB.use_ns("namespace").use_db("database").await?;

	let (tx, mut rx) = mpsc::channel::<()>(1);

	for idx in 0..NUM {
		let sender = tx.clone();
		tokio::spawn(async move {
			let mut result = DB.query("SELECT * FROM $idx").bind(("idx", idx)).await.unwrap();

			let db_idx: Option<usize> = result.take(0).unwrap();
			if let Some(db_idx) = db_idx {
				println!("{idx}: {db_idx}");
			}

			drop(sender);
		});
	}

	drop(tx);

	rx.recv().await;

	Ok(())
}
```